import ch.so.agi.gretl.tasks.*
import ch.so.agi.gretl.api.*

task dropSchema_Fixpunktkonzept(type: SqlExecutor) {
    description = "Löscht das Fixpunktekonzept-Schema in der Datenbank."
    database = [targetDbUrl, targetDbUser, targetDbPass]    
    sqlParameters = [dbschema: dbSchema]    
    sqlFiles = ["sql/deleteFixpunktekonzeptSchema.sql"]
}

task createSchema_Fixpunktkonzept(type: Ili2pgImportSchema) {
    description = "Erstellt das Fixpunktekonzept-Schema in der Datenbank mit den leeren Tabelle (gemäss INTERLIS-Modell)."
    database = [targetDbUrl, targetDbUser, targetDbPass]
    models = "SO_AV_Fixpunktkonzept_2017_20180203"
    modeldir = "http://models.geo.admin.ch;../ili/" 
    dbschema = dbSchema
    //createBasketCol = true
    nameByTopic = true
    createFk = true
    createFkIdx = true
    createGeomIdx = true
    createUnique = true
    createNumChecks = true
    createEnumTabs = true
    strokeArcs = true
    coalesceMultiSurface = true
    defaultSrsCode = 2056
}